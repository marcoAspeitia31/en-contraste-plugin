(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var o in a)e.o(a,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:a[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=JSON.parse('{"apiVersion":2,"name":"en-contraste-plugin/portfolio","title":"Portafolio recientes","category":"widgets","icon":"admin-post","description":"Lista el portafolio de la página","keywords":["portafolio","en contraste"],"version":"1.0.0","textdomain":"en-contraste-plugin","attributes":{"title":{"type":"string"},"content":{"type":"string"},"pageOnFrontId":{"type":"integer"},"portfolioImages":{"type":"array","default":[]},"portfolioSliderClass":{"type":"string","default":"row"},"align":{"type":"string","default":"full"}},"supports":{"align":["full"]},"editorScript":"file:./build/index.js"}'),o=window.React,n=window.wp.apiFetch;var r=e.n(n);const l=window.wp.data,i=window.wp.element,c=window.wp.blockEditor,s=(window.wp.components,e=>{const{attributes:{title:t,content:a,pageOnFrontId:n},setAttributes:s}=e,p=(0,c.useBlockProps)(),[d,m]=(0,i.useState)([]),{pageOnFront:g}=(0,l.useSelect)((e=>{try{return{...e("core/block-editor").getSettings()}}catch(e){console.error(e)}}),[n]);return(0,i.useEffect)((()=>{(async()=>{try{const e=n?`wp/v2/pages/${n}`:`wp/v2/pages/${g}`,{portfolio_images_src:t}=await r()({path:e});m(t)}catch(e){console.error(e)}})()}),[]),s({pageOnFrontId:g}),(0,o.createElement)(o.Fragment,null,Object.keys(d).length>0&&(0,o.createElement)("section",{className:"portfolio-area pb-130",...p},(0,o.createElement)("div",{className:"container"},(0,o.createElement)("div",{className:"row justify-content-center"},(0,o.createElement)("div",{className:"col-lg-6 col-md-9"},(0,o.createElement)("div",{className:"section-title text-center"},(0,o.createElement)(c.RichText,{tagName:"h2",className:"title",value:t,onChange:e=>{s({title:e})},placeholder:"Agrega un título"}),(0,o.createElement)(c.RichText,{tagName:"p",value:a,onChange:e=>{s({content:e})},placeholder:"Agrega un descripción"}))))),(0,o.createElement)("div",{className:"container-fluid p-0"},(0,o.createElement)("div",{className:Object.values(d).length>=4?"row portfolio-active":"row"},Object.values(d).map((e=>(0,o.createElement)("div",{className:"col-lg-3"},(0,o.createElement)("div",{className:"portfolio-item mt-30"},(0,o.createElement)("img",{src:e.media,alt:""})))))))))});(0,t.registerBlockType)(a,{edit:s,save:()=>null})})();